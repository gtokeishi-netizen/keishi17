/**
 * Color Contrast Fixes - Joseikin Insight
 * 全ページの色使い修正 - 視認性向上
 * 
 * User Request: 白背景に白文字、黒背景に黒文字、黒背景に黒アイコンなどの
 * 色の使い勝手がおかしい箇所を修正
 * 
 * @version 1.0.0
 * @date 2025-10-05
 */

/* ============================================================
   GLOBAL COLOR CONTRAST RULES
   全体的なカラーコントラストルール
   ============================================================ */

/* RULE 1: 白背景には黒系文字・アイコン */
*[style*="background: #fff"],
*[style*="background: white"],
*[style*="background-color: #fff"],
*[style*="background-color: white"],
.bg-white,
.background-white {
    color: #000000 !important;
}

.bg-white *:not(a):not(button),
.background-white *:not(a):not(button) {
    color: #000000 !important;
}

.bg-white svg,
.bg-white i,
.bg-white .icon,
.background-white svg,
.background-white i,
.background-white .icon {
    color: #000000 !important;
    fill: #000000 !important;
}

/* RULE 2: 黒背景には白系文字・アイコン */
*[style*="background: #000"],
*[style*="background: black"],
*[style*="background-color: #000"],
*[style*="background-color: black"],
.bg-black,
.background-black {
    color: #ffffff !important;
}

.bg-black *:not(a):not(button),
.background-black *:not(a):not(button) {
    color: #ffffff !important;
}

.bg-black svg,
.bg-black i,
.bg-black .icon,
.background-black svg,
.background-black i,
.background-black .icon {
    color: #ffffff !important;
    fill: #ffffff !important;
}

/* RULE 3: グレー背景には黒系文字（コントラスト確保） */
*[style*="background: #f0f0f0"],
*[style*="background: #f5f5f5"],
*[style*="background: #fafafa"],
.bg-gray,
.bg-grey {
    color: #000000 !important;
}

/* ============================================================
   SPECIFIC COMPONENT FIXES
   特定コンポーネントの修正
   ============================================================ */

/* Footer fixes - prevent black text on black background */
.site-footer,
footer {
    background-color: #ffffff !important;
    color: #000000 !important;
}

.site-footer *,
footer * {
    color: #000000 !important;
}

.site-footer a,
footer a {
    color: #000000 !important;
    text-decoration: underline;
}

.site-footer a:hover,
footer a:hover {
    color: #333333 !important;
}

.site-footer svg,
.site-footer i,
.site-footer .icon,
footer svg,
footer i,
footer .icon {
    color: #000000 !important;
    fill: #000000 !important;
}

/* Header/Navigation fixes */
.site-header,
.main-navigation,
nav {
    background-color: #ffffff !important;
}

.site-header *,
.main-navigation *,
nav * {
    color: #000000 !important;
}

/* Card components - ensure proper contrast */
.card,
.grant-card,
.category-card {
    background: #ffffff !important;
    color: #000000 !important;
}

.card *,
.grant-card *,
.category-card * {
    color: #000000 !important;
}

/* Buttons - black background should have white text */
.btn-primary,
.button-primary,
button[style*="background: #000"],
button[style*="background-color: #000"] {
    background: #000000 !important;
    color: #ffffff !important;
    border-color: #000000 !important;
}

.btn-primary:hover,
.button-primary:hover {
    background: #2d2d2d !important;
    color: #ffffff !important;
}

/* Icon fixes - ensure visibility on all backgrounds */
.icon-white-bg {
    color: #000000 !important;
    fill: #000000 !important;
}

.icon-black-bg {
    color: #ffffff !important;
    fill: #ffffff !important;
}

/* SVG icons - force proper colors based on parent background */
svg.icon {
    transition: fill 0.2s ease, color 0.2s ease;
}

/* Badge/Tag components */
.badge,
.tag,
.label {
    background: #000000 !important;
    color: #ffffff !important;
}

.badge.light,
.tag.light,
.label.light {
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
}

/* Modal/Dialog fixes */
.modal,
.dialog,
.popup {
    background: #ffffff !important;
    color: #000000 !important;
}

.modal-overlay,
.dialog-overlay {
    background: rgba(0, 0, 0, 0.6) !important;
}

/* Table fixes */
table {
    background: #ffffff !important;
}

table th,
table td {
    color: #000000 !important;
    border-color: #e0e0e0 !important;
}

table thead {
    background: #f5f5f5 !important;
}

/* Form elements */
input,
textarea,
select {
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
}

input::placeholder,
textarea::placeholder {
    color: #666666 !important;
}

/* Alert/Notification components */
.alert,
.notification {
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
}

.alert.success {
    background: #10b981 !important;
    color: #ffffff !important;
}

.alert.error {
    background: #ef4444 !important;
    color: #ffffff !important;
}

.alert.warning {
    background: #f59e0b !important;
    color: #000000 !important;
}

/* ============================================================
   ACCESSIBILITY IMPROVEMENTS
   アクセシビリティ向上
   ============================================================ */

/* Ensure minimum contrast ratio of 4.5:1 for normal text */
/* Ensure minimum contrast ratio of 3:1 for large text (18px+) */

/* Link visibility improvements */
a {
    text-decoration: underline;
    text-underline-offset: 2px;
}

a:hover {
    text-decoration: underline;
    text-decoration-thickness: 2px;
}

/* Focus states - high contrast outline */
*:focus,
*:focus-visible {
    outline: 3px solid #000000 !important;
    outline-offset: 2px !important;
}

button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus {
    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.2) !important;
}

/* Disabled state - clearly visible */
button:disabled,
input:disabled,
textarea:disabled,
select:disabled {
    background: #e0e0e0 !important;
    color: #999999 !important;
    cursor: not-allowed !important;
    opacity: 0.6 !important;
}

/* ============================================================
   RESPONSIVE CONTRAST FIXES
   レスポンシブ対応
   ============================================================ */

@media (max-width: 768px) {
    /* Ensure mobile text is highly visible */
    body {
        color: #000000 !important;
    }
    
    /* Mobile navigation */
    .mobile-menu,
    .hamburger-menu {
        background: #ffffff !important;
        color: #000000 !important;
    }
    
    /* Mobile cards */
    .card,
    .grant-card,
    .category-card {
        border: 2px solid #e0e0e0 !important;
    }
}

/* ============================================================
   DARK MODE SUPPORT (if implemented in future)
   ダークモード対応（将来的な実装用）
   ============================================================ */

@media (prefers-color-scheme: dark) {
    /* Currently forcing light mode for consistency */
    /* Future dark mode implementation can override these */
    body {
        background: #ffffff !important;
        color: #000000 !important;
    }
}

/* ============================================================
   PRINT STYLES
   印刷スタイル
   ============================================================ */

@media print {
    * {
        background: #ffffff !important;
        color: #000000 !important;
    }
    
    a {
        text-decoration: underline !important;
    }
}

/* ============================================================
   OVERRIDE CONFLICTS
   既存スタイルの上書き（最優先）
   ============================================================ */

/* Force proper contrast for commonly problematic selectors */
div[class*="white"] {
    background: #ffffff !important;
    color: #000000 !important;
}

div[class*="black"] {
    background: #000000 !important;
    color: #ffffff !important;
}

/* Ensure icon libraries (FontAwesome, etc.) have proper colors */
.fa,
.fas,
.far,
.fal,
.fab,
[class^="icon-"],
[class*=" icon-"] {
    color: inherit !important;
}

/* Material Icons */
.material-icons,
.material-icons-outlined {
    color: inherit !important;
}

/* ============================================================
   SPECIFIC PAGE FIXES
   特定ページの修正
   ============================================================ */

/* Front page hero section */
.hero-section {
    background: #ffffff !important;
    color: #000000 !important;
}

/* Search results */
.search-results {
    background: #ffffff !important;
}

.search-result-item {
    background: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #e0e0e0 !important;
}

/* Single grant page */
.single-grant .entry-content {
    background: #ffffff !important;
    color: #000000 !important;
}

/* Category pages */
.category-archive {
    background: #ffffff !important;
}

/* Archive pages */
.archive-page {
    background: #ffffff !important;
}

/* ============================================================
   END OF CONTRAST FIXES
   ============================================================ */
